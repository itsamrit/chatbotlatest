<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Baking with the Gemini API</title>
  <style>
    h1 {
      color: white; /* Set text color to white for h1 */
    }
    label[for="language"],
    label[for="business-type"] {
      color: white;
    }
    .output {
      color: white;
    }
  </style>
  <link rel="stylesheet" href="/style.css">
</head>

<body>
  <main>
    <h1>Baking with the Gemini API</h1>
    <form>
      <div class="language-dropdown">
        <label for="language">Select Language:</label>
        <select id="language" name="language">
          <option value="english">English</option>
          <option value="hindi">Hindi</option>
          <option value="telugu">Telugu</option>
          <option value="tamil">Tamil</option>
          <option value="bengali">Bengali</option>
          <option value="marathi">Marathi</option>
          <option value="urdu">Urdu</option>
          <option value="punjabi">Punjabi</option>
          <option value="gujarati">Gujarati</option>
          <option value="kannada">Kannada</option>
        </select>
      </div>
      <div class="business-dropdown">
        <label for="business-type">Select Business Type:</label>
        <select id="business-type" name="business-type">
          <option value="bakery">Bakery</option>
          <option value="restaurant">Restaurant</option>
          <option value="cafe">Cafe</option>
          <option value="food-truck">Food Truck</option>
          <option value="catering">Catering</option>
        </select>
      </div>
      <div class="image-picker">
        <label class="image-choice">
          <input type="file" accept="image/*" id="upload-image" name="upload-image" onchange="previewImage(event)">
        </label>
      </div>
      <div class="preview">
        <img id="image-preview" src="#" alt="Preview" style="display: none; max-width: 300px; max-height: 300px;">
      </div>
      <div class="prompt-box">
        <label>
          <input name="prompt" placeholder="Enter instructions here" type="text"
            value="Provide a recipe for the baked goods in the image">
        </label>
        <button type="submit">Go</button>
      </div>
    </form>
    <button id="upload-button">Upload Image</button> <!-- New upload button -->
    <p class="output">(Results will appear here)</p>
  </main>
  <script>
    // Find the h1 element with the specific text content and set its color to white
    document.querySelectorAll('h1').forEach(function (h1) {
      if (h1.textContent === 'Baking with the Gemini API') {
        h1.style.color = 'white';
      }
    });

    // Add event listener for upload button
    document.getElementById('upload-button').addEventListener('click', function() {
      document.getElementById('upload-image').click(); // Trigger click event on hidden file input
    });

    // Function to preview selected image
    function previewImage(event) {
      var preview = document.getElementById('image-preview');
      var file = event.target.files[0];
      var reader = new FileReader();

      reader.onloadend = function () {
        preview.src = reader.result;
        preview.style.display = 'block'; // Show the preview image
      }

      if (file) {
        reader.readAsDataURL(file);
      } else {
        preview.src = '';
      }
    }
  </script>
  <script src="https://unpkg.com/markdown-it@8.4.2/dist/markdown-it.min.js"></script>
  <script src="https://unpkg.com/base64-js@1.3.0/base64js.min.js"></script>
  <script type="module" src="/main.js"></script>
</body>

</html>
